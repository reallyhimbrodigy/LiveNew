<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LiveNew</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="brand">LiveNew</div>
      <div class="auth-status" id="auth-status">Not signed in</div>
    </header>

    <main>
      <section class="card" id="auth-panel">
        <h2>Sign in</h2>
        <div class="grid">
          <label>
            Email
            <input type="email" id="auth-email" placeholder="you@example.com" />
          </label>
          <button id="request-code" class="primary">Send code</button>
        </div>
        <div class="grid">
          <label>
            Code
            <input type="text" id="auth-code" placeholder="123456" />
          </label>
          <button id="verify-code">Verify</button>
        </div>
        <div class="auth-actions">
          <button id="logout" class="ghost">Sign out</button>
          <span id="auth-message" class="status"></span>
        </div>
      </section>

      <nav class="tabs">
        <button data-tab="day" class="tab active">Day</button>
        <button data-tab="week" class="tab">Week</button>
        <button data-tab="trends" class="tab">Trends</button>
        <button data-tab="profile" class="tab">Profile</button>
        <button data-tab="admin" class="tab" id="admin-tab" style="display:none;">Admin</button>
      </nav>

      <section id="view-day" class="view">
        <div class="card">
          <div class="row">
            <label>
              Date
              <input type="date" id="day-date" />
            </label>
            <button id="load-day" class="primary">Load day</button>
            <button id="bad-day" class="danger">Bad day mode</button>
          </div>
          <div class="row wrap" id="signal-buttons">
            <button data-signal="im_stressed">I'm stressed</button>
            <button data-signal="im_exhausted">I'm exhausted</button>
            <button data-signal="i_have_10_min">I have 10 min</button>
            <button data-signal="i_have_more_energy">More energy</button>
            <button data-signal="poor_sleep">Poor sleep</button>
            <button data-signal="anxious">Anxious</button>
            <button data-signal="wired">Wired</button>
          </div>
          <div id="day-status" class="status"></div>
        </div>

        <div class="grid-3">
          <div class="card">
            <h3>What</h3>
            <div class="label">Workout</div>
            <div id="day-what-workout">-</div>
            <div class="label">Reset</div>
            <div id="day-what-reset">-</div>
            <div class="label">Nutrition</div>
            <div id="day-what-nutrition">-</div>
          </div>
          <div class="card">
            <h3>Why</h3>
            <div class="label">Profile</div>
            <div id="day-why-profile">-</div>
            <div class="label">Focus</div>
            <div id="day-why-focus">-</div>
            <div id="day-why-statement" class="muted"></div>
            <div class="chips" id="day-why-drivers"></div>
          </div>
          <div class="card">
            <h3>How long</h3>
            <div class="label">Total minutes</div>
            <div id="day-howlong-total">-</div>
            <div class="label">Time available</div>
            <div id="day-howlong-available">-</div>
          </div>
        </div>

        <details class="card" id="day-details">
          <summary>Details</summary>
          <div class="details-grid">
            <div>
              <h4>Workout steps</h4>
              <ul id="day-workout-steps"></ul>
            </div>
            <div>
              <h4>Reset steps</h4>
              <ul id="day-reset-steps"></ul>
            </div>
            <div>
              <h4>Nutrition priorities</h4>
              <ul id="day-nutrition-priorities"></ul>
            </div>
            <div>
              <h4>Anchors</h4>
              <div id="day-anchors"></div>
            </div>
          </div>
        </details>

        <div class="card">
          <h3>Check-in</h3>
          <form id="checkin-form" class="grid-2">
            <label>
              Date
              <input type="date" id="checkin-date" />
            </label>
            <label>
              Stress (1-10)
              <input type="number" min="1" max="10" id="checkin-stress" value="5" />
            </label>
            <label>
              Sleep (1-10)
              <input type="number" min="1" max="10" id="checkin-sleep" value="6" />
            </label>
            <label>
              Energy (1-10)
              <input type="number" min="1" max="10" id="checkin-energy" value="6" />
            </label>
            <label>
              Time available
              <select id="checkin-time">
                <option value="5">5 min</option>
                <option value="10">10 min</option>
                <option value="15">15 min</option>
                <option value="20" selected>20 min</option>
                <option value="30">30 min</option>
                <option value="45">45 min</option>
                <option value="60">60 min</option>
              </select>
            </label>
            <label>
              Notes
              <input type="text" id="checkin-notes" />
            </label>
            <button class="primary" type="submit">Save check-in</button>
          </form>
          <div id="checkin-status" class="status"></div>
        </div>

        <div class="grid-2">
          <div class="card">
            <h3>Completion</h3>
            <div class="row wrap" id="completion-buttons">
              <button data-part="workout">Workout</button>
              <button data-part="reset">Reset</button>
              <button data-part="nutrition">Nutrition</button>
            </div>
            <div id="completion-status" class="status"></div>
          </div>
          <div class="card">
            <h3>Feedback</h3>
            <label>
              Date
              <input type="date" id="feedback-date" />
            </label>
            <label>
              Helped?
              <select id="feedback-helped">
                <option value="true">Yes</option>
                <option value="false">No</option>
              </select>
            </label>
            <label>
              Reason (if no)
              <select id="feedback-reason">
                <option value="">--</option>
                <option value="too_hard">Too hard</option>
                <option value="too_easy">Too easy</option>
                <option value="wrong_time">Wrong time</option>
                <option value="not_relevant">Not relevant</option>
              </select>
            </label>
            <button id="submit-feedback">Send feedback</button>
            <div id="feedback-status" class="status"></div>
          </div>
        </div>
      </section>

      <section id="view-week" class="view" style="display:none;">
        <div class="card">
          <div class="row">
            <label>
              Week of
              <input type="date" id="week-date" />
            </label>
            <button id="load-week" class="primary">Load week</button>
          </div>
          <div id="week-status" class="status"></div>
        </div>
        <div class="card" id="week-list"></div>
      </section>

      <section id="view-trends" class="view" style="display:none;">
        <div class="card">
          <div class="row">
            <label>
              Range
              <select id="trends-days">
                <option value="7">7 days</option>
                <option value="14">14 days</option>
                <option value="30">30 days</option>
              </select>
            </label>
            <button id="load-trends" class="primary">Load trends</button>
          </div>
        </div>
        <div class="card" id="trends-table"></div>
      </section>

      <section id="view-profile" class="view" style="display:none;">
        <div class="card">
          <h3>Your baseline</h3>
          <form id="profile-form" class="grid-2">
            <label>
              Wake time
              <input type="time" id="wakeTime" />
            </label>
            <label>
              Bed time
              <input type="time" id="bedTime" />
            </label>
            <label>
              Sleep regularity (1-10)
              <input type="number" min="1" max="10" id="sleepRegularity" value="6" />
            </label>
            <label>
              Caffeine cups per day (0-5)
              <input type="number" min="0" max="5" id="caffeineCups" value="1" />
            </label>
            <label>
              Late caffeine days per week (0-7)
              <input type="number" min="0" max="7" id="lateCaffeineDays" value="0" />
            </label>
            <label>
              Sunlight minutes per day (0-120)
              <input type="number" min="0" max="120" id="sunlightMinutes" value="15" />
            </label>
            <label>
              Late screen minutes per night (0-240)
              <input type="number" min="0" max="240" id="lateScreen" value="30" />
            </label>
            <label>
              Alcohol nights per week (0-7)
              <input type="number" min="0" max="7" id="alcoholNights" value="0" />
            </label>
            <label>
              Meal timing consistency (1-10)
              <input type="number" min="1" max="10" id="mealTiming" value="6" />
            </label>
            <label>
              Preferred workout window
              <select id="preferredWindow">
                <option value="AM">AM</option>
                <option value="MIDDAY">Midday</option>
                <option value="PM" selected>PM</option>
              </select>
            </label>
            <label>
              Busy days (comma separated YYYY-MM-DD)
              <input type="text" id="busyDays" />
            </label>
            <button class="primary" type="submit">Save profile</button>
          </form>
          <div id="profile-status" class="status"></div>
        </div>
      </section>

      <section id="view-admin" class="view" style="display:none;">
        <div class="card">
          <h3>Content management</h3>
          <div class="row">
            <label>
              Kind
              <select id="admin-kind">
                <option value="workout">Workout</option>
                <option value="nutrition">Nutrition</option>
                <option value="reset">Reset</option>
              </select>
            </label>
            <button id="admin-load" class="primary">Load</button>
          </div>
          <div id="admin-content"></div>
        </div>

        <div class="card">
          <h3>Edit item</h3>
          <div id="admin-edit" class="grid-2"></div>
          <div class="row">
            <button id="admin-save" class="primary">Save</button>
            <span id="admin-status" class="status"></span>
          </div>
        </div>

        <div class="card">
          <h3>Bulk actions</h3>
          <div class="row wrap">
            <button id="bulk-enable">Enable</button>
            <button id="bulk-disable">Disable</button>
            <button id="bulk-priority-up">Priority +1</button>
            <button id="bulk-priority-down">Priority -1</button>
          </div>
        </div>

        <div class="card">
          <h3>Worst items</h3>
          <div class="row">
            <label>
              Kind
              <select id="worst-kind">
                <option value="workout">Workout</option>
                <option value="nutrition">Nutrition</option>
                <option value="reset">Reset</option>
              </select>
            </label>
            <button id="load-worst">Load report</button>
          </div>
          <div id="worst-table"></div>
        </div>
      </section>
    </main>

    <script src="/app.js"></script>
  </body>
</html>
